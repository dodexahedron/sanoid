.\" Automatically generated by Pandoc 2.17.1.1
.\"
.\" Define V font for inline verbatim, using C font in formats
.\" that render this, and otherwise B font.
.ie "\f[CB]x\f[]"x" \{\
. ftr V B
. ftr VI BI
. ftr VB B
. ftr VBI BI
.\}
.el \{\
. ftr V CR
. ftr VI CI
. ftr VB CB
. ftr VBI CBI
.\}
.TH "Sanoid.json" "5" "June 2023" "Sanoid.net 1.0.0-Beta1 Configuration" ""
.hy
.SH Name
.PP
Sanoid.json - Configuration files for Sanoid.net
.SH Synopsis
.PP
\f[B]/usr/local/share/Sanoid.net/Sanoid.json\f[R] (Sanoid.json)
\f[B]/etc/sanoid/Sanoid.local.json\f[R] (Sanoid.local.json)
.SH Description
.PP
These files contain general configuration and templates for Sanoid.net.
.PP
All configuration files are formatted as plain-text JSON files, in UTF-8
encoding.
.PP
Note: Command line arguments which affect settings in any configuration
file have highest precedence and will override their matching settings,
at run-time.
.PD 0
.P
.PD
See Sanoid.net(8) for details on command line arguments.
.SS Configuration Files
.PP
\f[B]/usr/local/share/Sanoid.net/Sanoid.json\f[R] is the base
configuration file and is not intended, recommended, or supported to be
changed by the end user.
.PD 0
.P
.PD
This file is installed with read-only permissions, by default, to help
avoid unintended modifications.
.PP
\f[B]/etc/sanoid/Sanoid.local.json\f[R] is the local configuration file.
.PD 0
.P
.PD
All settings specified in this file extend the configuration contained
in Sanoid.json.
Any leaf-level settings in Sanoid.local.json that have the same
fully-qualified JSON path as leaf-level settings defined in Sanoid.json
will override the matching settings in Sanoid.json, at run-time.
.SS Configuration File Schemas
.PP
The schemas for Sanoid.json and Sanoid.local.json are identical, except
for required elements.
Both can be found in /usr/local/share/Sanoid.net as Sanoid.schema.json
and Sanoid.local.schema.json.
.PD 0
.P
.PD
The schema documents fully describe the layout and legal format for
these configuration files, and are to be considered authoritative, if
any discrepancies exist between this document and those files.
.PP
Changes to the schema documents are NOT supported and are likely to
cause run-time errors in Sanoid.net.
DO NOT MODIFY THE SCHEMA DOCUMENTS.
.SH Settings
.PP
Settings are described below using their JSON path as identifiers, and a
description including type, default value, and what each settings does.
.SS General Settings
.TP
\f[B]/DryRun\f[R] (boolean - \[lq]true\[rq] or \[lq]false\[rq])
This is a global setting that controls whether Sanoid.net will perform a
dry run, when invoked.
If this setting is \[lq]true,\[rq] Sanoid.net will perform a dry run and
make no changes to ZFS.
The command-line option \f[B]--dry-run\f[R] overrides this setting.
.TP
\f[B]/TakeSnapshots\f[R] (boolean - \[lq]true\[rq] or \[lq]false\[rq])
This is a global setting that controls whether Sanoid.net will take new
snapshots.
If this setting is true, Sanoid.net will take snapshots according to the
properties set on each ZFS dataset.
If this setting is false, new snapshot processing is skipped and no new
snapshots will be taken, regardless of the sanoid.net:takesnapshots
property set on each ZFS dataset.
The command-line options \f[B]--take-snapshots\f[R] and
\f[B]--no-take-snapshots\f[R] override this setting.
.TP
\f[B]/PruneSnapshots\f[R] (boolean - \[lq]true\[rq] or \[lq]false\[rq])
This is a global setting that controls whether Sanoid.net will prune
expired snapshots.
If this setting is true, Sanoid.net will prune eligible snapshots
according to the properties set on each snapshot or inherited from its
parent dataset.
If this setting is false, existing snapshots will not be pruned,
regardless of the sanoid.net:prunesnapshots property setting on each ZFS
dataset, the retention properties on each ZFS dataset or snapshot, or
the age of the snapshot.
The command-line options \f[B]--prune-snapshots\f[R] and
\f[B]--no-prune-snapshots\f[R] override this setting.
.SH AUTHORS
Brandon Thetford.
